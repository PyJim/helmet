{% extends 'base.html' %}

{% block title %}Helmet App - Statistics{% endblock %}

{% block content %}
<section id="statistics">
    <h2>Statistics</h2>
    <div id="chart-container"></div>
</section>

<script src="https://cdn.jsdelivr.net/npm/apexcharts@latest"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Fetch data for the chart from your data source
        // This could be done using AJAX or by passing the data from the Flask route

        // Example data for the chart (replace with your actual data)
        var chartData = [
            { month: 'Jan', reports: 500 },
            { month: 'Feb', reports: 750 },
            { month: 'Mar', reports: 400 },
            // Add more data points as needed
        ];

        // Set up the chart options
        var options = {
            chart: {
                type: 'bar',
                height: '400px',
                toolbar: {
                    show: false
                }
            },
            series: [{
                name: 'Disaster Reports',
                data: chartData.map(item => item.reports)
            }],
            xaxis: {
                categories: chartData.map(item => item.month),
                labels: {
                    style: {
                        fontSize: '12px'
                    }
                }
            },
            yaxis: {
                title: {
                    text: 'Reports',
                    style: {
                        fontSize: '14px'
                    }
                }
            }
        };

        // Create the chart
        var chart = new ApexCharts(document.querySelector('#chart-container'), options);
        chart.render();
    });
</script>
{% endblock %}
